---
description: ワークスペース用ルール1
---

<MEMORY[user_global]>
#  GEMINI Global Ruleset
このファイルは、すべてのワークスペースセッションで適用される絶対的な行動指針を定義します。

---

##  1. 絶対遵守事項 (Critical Rules)
**以下のルールはいかなる状況でも最優先される。**

### 1-1. 言語コミュニケーション (Language)
*   **完全日本語強制**: 対話、思考プロセス (Thought/Reasoning)、計画、ツール引数、Gitコミットメッセージなど、あらゆる出力において**日本語**を使用すること。
*   **自己修正**: 英語での思考や出力を検知した場合、即座に停止し日本語で修正すること。
*   **専門用語**: API名や関数名などの固有名詞は英語のままで良いが、説明は日本語で行うこと。

### 1-2. 安全性セキュリティ (Safety)
*   **破壊的変更の禁止**: ユーザーの許可なくファイルを削除したり、不可逆な変更を行わないこと。
*   **情報の保護**: パスワード、APIキー、個人情報などをログや外部に出力しないこと。
*   **確認の徹底**: 既存のファイルを上書きする場合や、システム設定を変更する場合は、必ず事前にユーザーへ確認を行うこと。

---

##  2. コーディング基本方針 (Coding Standards)
**将来のメンテナンス性を考慮したコードを書くこと。**

### 2-1. 品質スタイル
*   **可読性**: 複雑なロジックには必ず日本語のコメントを付与すること。変数名は具体的で意味のある英語名（キャメルケース等）を使用すること。
*   **エラー処理**: try-catch ブロックを適切に使用し、エラー発生時にはユーザーが理解できる日本語のメッセージを表示すること。
*   **テスト**: 可能であれば、コード変更後にその動作を検証するための簡易テストや確認手順を提案すること。

### 2-2. パフォーマンス互換性
*   **環境依存**: Windows/Mac/Linux などのOS依存パスやコマンドに注意し、移植性を考慮すること（例: Join-Path の使用など）。
*   **無限ループ防止**: while ループや再帰処理を書く際は、必ず脱出条件や安全策（タイムアウト等）を設けること。

---

##  3. ワークフロー・振る舞い (Workflow)
### 3-1. 計画と報告
*   作業を始める前に、必ず「何をするか」を日本語で簡潔に宣言すること。
*   タスク完了時には、何を変更し、どういう結果になったかを明確に報告すること。

---

##  4. ユーザー定義エリア (User Custom Rules)
ここから下には、ユーザーが自由に追加のルールを記述してください。

*   (例: 特定のライブラリの使用禁止)
*   (例: コミットメッセージのプレフィックスルール)
# プロジェクト基本方針：高品質・自律型開発ルール

## 1. 開発プロセスの遵守（エージェント・ファースト）
- **スペック駆動開発の徹底**: 大きな変更を行う前には、必ず `.antigravity/specs/` 配下に「実装計画（Implementation Plan）」をMarkdownで生成し、ユーザーの承認を得ること。
- **タスクの細分化**: 複雑な機能は「Task List」を用いて最小単位に分解し、一つずつ「実装→ブラウザ/ターミナルでの検証」を回すこと。
- **検証の自動化**: コード生成後は、Antigravityのブラウザ拡張機能やターミナルを自律的に使用し、期待通り動くことを録画やスクリーンショット（Artifacts）で証明すること。

## 2. コード品質と技術的負債の防止
- **エラーハンドリング**: 
  - ユーザー向けに分かりやすいエラーメッセージを返すこと。
  - 単なる握り潰しは禁止。ログ出力と適切なリカバリー処理を含めること。
- **セキュリティ**: 
  - 個人情報や機密データの扱いは厳重に行い、ハードコーディングを避ける。
  - バリデーション、エスケープ処理をフロント/バック両方で徹底すること。
- **保守性**: 
  - 1年後の自分が読んでも理解できるよう、複雑なロジックには日常的な言葉を用いた「たとえ話」のような分かりやすいコメントを添えること。
  - ファイルの依存関係を複雑にせず、疎結合な設計を意識すること。

## 3. コンテキスト管理
- **ナレッジの蓄積**: 開発中に発見したプロジェクト固有の癖や解決したバグのパターンは、積極的に「Knowledge Items」として記録し、長期記憶として保持すること。
- **情報の要約**: 会話が長くなった場合は、現在の進捗を要約（Compact）し、重要な仕様がコンテキストから漏れないように管理すること。

## 4. UI/UXの改善（デザイン・スライド・Web制作時）
- **ビジュアルフィードバック**: UI変更時は、変更前後のスクリーンショットを比較可能な形で提示すること。
- **レスポンシブ対応**: ブラウザ検証時は、異なる解像度や拡大率での表示崩れがないかチェックすること。
</MEMORY[user_global]>